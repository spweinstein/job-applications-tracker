<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head.ejs'); %>

  <body>
    <%- include('../partials/nav.ejs');%>
    
    <main class="page-container">
      <%- include('../partials/pageHeader.ejs'); %>
      <div class="card">
        <div class="card-header">
          <div><strong>Company:</strong> <%= company.name %></div>
        </div>
        <div><strong>Description:</strong> <p><%= company.description %></p></div>
        <div><strong>Notes:</strong> <p><%= company.notes %></p></div>

        <% if(company.website){ %>
        <div>
          <strong>Link:</strong>
          <a href="<%= company.website %>" target="_blank">Website</a>
        </div>
        <% } %>
        <div class="actions">
          <a href="/companies/<%=company._id%>/edit" class="btn btn-primary btn-sm">Edit</a>
          <form action="/companies/<%=company._id%>?_method=DELETE" method="POST">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
        </div>
      </div>
      <h2>Job Applications</h2>
        <%- include('../partials/tables/table.ejs', {
          columnNames: ["Job Title", "Status", "Priority", "Source"],
          columnPaths: ["title", "status", "priority", "source"],
          rows: jobApps,
          resourceName: "jobApps",
          sort: null,
          pagination: null,
          totalCount: totalJobAppsCount
        }) %>
    </main>
  </body>
</html>